<html>
<script>

function HandleLoginResponse(response)
{
	var text = JSON.parse(response);
//	document.getElementById("textResponse").innerHTML = response+"<p>";	
	document.getElementById("textResponse").innerHTML = "response: "+text+"<p>";
}

function SendLoginRequest(username,password)
{
	var request = new XMLHttpRequest();
	request.open("POST","login.php",true);
	request.setRequestHeader("Content-Type","application/x-www-form-urlencoded");
	request.onreadystatechange= function ()
	{
		
		if ((this.readyState == 4)&&(this.status == 200))
		{
			HandleLoginResponse(this.responseText);
		}		
	}
	request.send("type=login&uname="+username+"&pword="+password);
}

function getLoginInfo()
{
	alert("login button clicked!");
	const username_text_input = document.getElementById("username");
	const username_input_value = username_text_input.value;
	
	const password_text_input = document.getElementById("password");
	const password_input_value = password_text_input.value;

	//keep track, just in case	NTS: when in doubt, console.log
	console.log("Username: ", username_input_value);
	console.log("Password: ", password_input_value);

	SendLoginRequest(username_input_value, password_input_value);
}


</script>
<head>
	<link rel="stylesheet" href="./style.css">
</head>
<body>
<div class="container">
	<div class="glass-card">
	<h1>Main Page</h1> 
		<div id="links_to_main_pages">
		<div class="login-link"><a href="./login.html">Login HERE.</a></div>
		<div class="register-link"><a href="./registration.html">Register HERE.</a></div>
	</div>
		<div id="textResponse">
			<!--awaiting response-->
		</div>
	</div>
</div>
<script>
//SendLoginRequest("kehoed","12345");
</script>
</body>
</html>
